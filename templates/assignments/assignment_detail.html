{% extends "base.html" %}
{% block title %}{{ assignment.title }} Â· Homeschool Hub{% endblock %}

{% block content %}
<div class="container py-4">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card">
        <div class="card-header d-flex justify-content-between align-items-center">
          <h4 class="mb-0">{{ assignment.title }}</h4>
          {% if assignment.is_overdue %}
            <span class="badge bg-danger">Overdue</span>
          {% elif assignment.status == "COMPLETED" %}
            <span class="badge bg-success">Completed</span>
          {% elif assignment.status == "IN_PROGRESS" %}
            <span class="badge bg-primary">In Progress</span>
          {% else %}
            <span class="badge bg-secondary">Not Started</span>
          {% endif %}
        </div>
        <div class="card-body">
          <dl class="row">
            <dt class="col-sm-3">Child</dt>
            <dd class="col-sm-9">
              <a href="{% url 'students:student_detail' assignment.child.pk %}">{{ assignment.child }}</a>
            </dd>

            <dt class="col-sm-3">Curriculum</dt>
            <dd class="col-sm-9">
              <a href="{% url 'curricula:curriculum_detail' assignment.curriculum.pk %}">{{ assignment.curriculum.name }}</a>
            </dd>

            <dt class="col-sm-3">Due Date</dt>
            <dd class="col-sm-9">
              {{ assignment.due_date|date:"M d, Y" }}
              {% if assignment.is_overdue %}
                <span class="text-danger fw-bold">(Overdue)</span>
              {% endif %}
            </dd>

            <dt class="col-sm-3">Status</dt>
            <dd class="col-sm-9">{{ assignment.get_status_display }}</dd>

            {% if assignment.description %}
              <dt class="col-sm-3">Description</dt>
              <dd class="col-sm-9">{{ assignment.description|linebreaks }}</dd>
            {% endif %}

            <dt class="col-sm-3">Created</dt>
            <dd class="col-sm-9">{{ assignment.created_at|date:"M d, Y" }}</dd>

            <dt class="col-sm-3">Last Updated</dt>
            <dd class="col-sm-9">{{ assignment.updated_at|date:"M d, Y" }}</dd>
          </dl>
        </div>
        <div class="card-footer">
          <a href="{% url 'assignments:assignment_list' %}" class="btn btn-secondary">Back to List</a>
          <a href="{% url 'assignments:assignment_update' assignment.pk %}" class="btn btn-primary">Edit</a>
          <a href="{% url 'assignments:assignment_delete' assignment.pk %}" class="btn btn-danger">Delete</a>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
